<!doctype html>
<html>
<head>
  <title>Datastore and Firebase Auth Example</title>
  <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch-theme-algolia.min.css">
  <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4"></script>
  <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>

  <h1>Instant Search</h1>
  <div id="search-box"></div>
  <div id="hits"></div>
  {% raw %}
  <script>
    const search = instantsearch({
      appId: 'QZ178MWVKS',
      apiKey: 'd85dec6402e2484fb7ffbbcf89866230',
      indexName: 'dev_flask',
      routing: true
    });

    search.addWidget(
      instantsearch.widgets.hits({
        container: '#hits',
        templates: {
          empty: 'No results!',
          item: '<strong>Hit {{objectID}}</strong>: {{{_highlightResult.title.value}}}'
        },
        escapeHits: true,
        transformItems: items => items.map(item => item)
      })
    );

    search.addWidget(
      instantsearch.widgets.searchBox({
        container: '#search-box',
        placeholder: 'Search...'
      })
    );

    search.start();
  
  </script>
  {% endraw %}
        

</body>
</html>
